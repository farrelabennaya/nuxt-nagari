import{A as v}from"./Dl1Rth-w.js";import{_ as g}from"./CrH4gh9h.js";import{m as d,c as u,b as _,a as e,n as x,q as w,y,t as k,x as p,o as m,p as R,e as S}from"./ymCw7azN.js";import{u as C}from"./2TKp5wxK.js";import{_ as A}from"./DlAUqK2U.js";import"./CPXeGkS5.js";const n=o=>(R("data-v-e07a947b"),o=o(),S(),o),q={class:"flex overflow-hidden bg-white pt-16"},D={id:"main-content",class:"h-full w-full bg-gray-50 relative overflow-y-auto sm:ml-64"},I={class:"pt-6 px-4 ml-5 mr-5"},Q=n(()=>e("h1",{class:"text-lg font-bold mb-4"},"Generate QR Code for Rumah",-1)),B={class:"mb-5"},V=n(()=>e("label",{for:"rumah_id",class:"block text-sm font-medium text-gray-700"},"Rumah ID",-1)),E={key:0,class:"text-red-500"},N=n(()=>e("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-1 mb-2"},"Generate QR Code",-1)),$={key:0,class:"mt-6"},j=n(()=>e("h2",{class:"text-lg font-bold mb-4"},"QR Code:",-1)),G=["src"],H={__name:"create",setup(o){const h=C(),l=d(""),s=d([]),c=d(""),b=async()=>{s.value=[];try{const a=h.getToken,t=await fetch(`http://laravel-api.test/api/generate-qr/${l.value}`,{headers:{Authorization:`Bearer ${a}`}});if(!t.ok){const r=await t.json();throw r.errors&&(s.value=r.errors),new Error("Error generating QR Code")}const i=await t.json();c.value=i.qr_code}catch(a){console.error("Request failed:",a)}};return(a,t)=>{const i=v,r=g;return m(),u("div",null,[_(i),e("div",q,[_(r),e("div",D,[e("main",null,[e("div",I,[Q,e("form",{onSubmit:x(b,["prevent"]),class:"max-w-sm mx-auto"},[e("div",B,[V,w(e("input",{id:"rumah_id",type:"text","onUpdate:modelValue":t[0]||(t[0]=f=>l.value=f),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"},null,512),[[y,l.value]]),s.value.rumah_id?(m(),u("span",E,k(s.value.rumah_id[0]),1)):p("",!0)]),N],32),c.value?(m(),u("div",$,[j,e("img",{src:`data:image/png;base64,${c.value}`,alt:"QR Code"},null,8,G)])):p("",!0)])])])])])}}},K=A(H,[["__scopeId","data-v-e07a947b"]]);export{K as default};
