import{A as U}from"./Dl1Rth-w.js";import{_ as C}from"./CrH4gh9h.js";import{_ as A,a as N}from"./DH8iKwkT.js";import{B as S,l as h,m as f,c as a,b as l,a as e,r as B,n as M,w as b,t as u,x as c,q as P,v as F,d as m,F as T,s as j,o as d}from"./ymCw7azN.js";import{u as D}from"./2TKp5wxK.js";import"./DlAUqK2U.js";import"./CPXeGkS5.js";const L={class:"flex overflow-hidden bg-white pt-16"},$={id:"main-content",class:"h-full w-full bg-gray-50 relative overflow-y-auto sm:ml-64"},H={class:"pt-6 px-4 ml-5 mr-5"},R=e("h1",{class:"text-lg font-bold mb-4"},"Create User",-1),Z={class:"min-h-screen flex"},q={class:"w-full"},E={class:"card bg-white p-10 rounded-lg shadow-md md:w-3/5 mx-auto lg:w-1/3"},I=e("h3",{class:"text-center text-2xl font-semibold"},"User Data",-1),W={class:"mb-5"},z={key:0,class:"text-red-500"},G={class:"mb-5"},J={key:0,class:"text-red-500"},K={class:"mb-5"},O={key:0,class:"text-red-500"},Q={key:1,class:"text-red-500"},X={class:"mb-5"},Y=["value"],ee={key:0,class:"text-red-500"},re=e("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-1 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"},"Add User",-1),se={key:0,id:"toast-success",class:"fixed bottom-4 right-4 flex items-center w-full max-w-xs p-4 mb-4 text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 dark:bg-gray-800",role:"alert"},te=e("div",{class:"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-green-500 bg-green-100 rounded-lg dark:bg-green-800 dark:text-green-200"},[e("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"})]),e("span",{class:"sr-only"},"Check icon")],-1),oe={class:"ml-3 text-sm font-normal"},ae=e("span",{class:"sr-only"},"Close",-1),le=e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),de=[ae,le],he={__name:"create",setup(ne){const _=D(),w=S(),r=h({name:"",username:"",password:"",role_id:""}),t=f([]),x=f([{id:1,name:"Admin"},{id:2,name:"Petugas"},{id:3,name:"Warga"}]),i=h({show:!1,message:""}),k=n=>{i.message=n,i.show=!0,setTimeout(()=>{i.show=!1},3e3)},y=async()=>{if(t.value={},r.password.length<8){t.value.password=["Password minimal 8 karakter"];return}try{await _.createuser(r),k("User created successfully!"),setTimeout(()=>{w.push("/admin/user/data")},1500)}catch(n){n.data&&n.data.errors?t.value=n.data.errors:console.error(n)}};return(n,o)=>{const v=U,V=C,g=A,p=N;return d(),a("div",null,[l(v),e("div",L,[l(V),e("div",$,[e("main",null,[e("div",H,[R,B(n.$slots,"default")])]),e("div",Z,[e("div",q,[e("div",E,[I,e("form",{onSubmit:M(y,["prevent"]),class:"max-w-sm mx-auto"},[e("div",W,[l(g,{for:"name"},{default:b(()=>[m("Name")]),_:1}),l(p,{id:"name",type:"text",placeholder:"Name",modelValue:r.name,"onUpdate:modelValue":o[0]||(o[0]=s=>r.name=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-50"},null,8,["modelValue"]),t.value.name?(d(),a("span",z,u(t.value.name[0]),1)):c("",!0)]),e("div",G,[l(g,{for:"username"},{default:b(()=>[m("Username")]),_:1}),l(p,{id:"username",type:"text",placeholder:"Username",modelValue:r.username,"onUpdate:modelValue":o[1]||(o[1]=s=>r.username=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-50"},null,8,["modelValue"]),t.value.username?(d(),a("span",J,u(t.value.username[0]),1)):c("",!0)]),e("div",K,[l(g,{for:"password"},{default:b(()=>[m("Password")]),_:1}),l(p,{id:"password",type:"password",placeholder:"Password",modelValue:r.password,"onUpdate:modelValue":o[2]||(o[2]=s=>r.password=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-50"},null,8,["modelValue"]),t.value.password?(d(),a("span",O,u(t.value.password[0]),1)):c("",!0),r.password.length>0&&r.password.length<8?(d(),a("span",Q,"Password minimal 8 karakter")):c("",!0)]),e("div",X,[l(g,{for:"role"},{default:b(()=>[m("Role")]),_:1}),P(e("select",{id:"role","onUpdate:modelValue":o[3]||(o[3]=s=>r.role_id=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-50"},[m(" > "),(d(!0),a(T,null,j(x.value,s=>(d(),a("option",{value:s.id,key:s.id},u(s.name),9,Y))),128))],512),[[F,r.role_id]]),t.value.role_id?(d(),a("span",ee,u(t.value.role_id[0]),1)):c("",!0)]),re],32)])])])])]),i.show?(d(),a("div",se,[te,e("div",oe,u(i.message),1),e("button",{onClick:o[4]||(o[4]=s=>i.show=!1),type:"button",class:"ml-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700","aria-label":"Close"},de)])):c("",!0)])}}};export{he as default};
