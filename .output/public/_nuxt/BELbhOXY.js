import{A as b}from"./Dl1Rth-w.js";import{_ as y}from"./CrH4gh9h.js";import{_ as v}from"./CPXeGkS5.js";import{m as x,l as w,C as k,f as K,c as g,b as h,a as t,w as A,t as a,F as D,s as S,x as j,o as _,p as N,e as I}from"./ymCw7azN.js";import{_ as C}from"./DlAUqK2U.js";import"./2TKp5wxK.js";const V={components:{AppHeader:b,SidebarAdmin:y},setup(){const s=x({}),i=x([]),u=w({show:!1,message:""}),e=async()=>{const r=new URLSearchParams(window.location.search).get("id");try{const o=await(await fetch(`http://laravel-api.test/api/keluargas/${r}`)).json();s.value=o,await p(o.id)}catch(n){console.error("Error fetching keluarga detail:",n)}},p=async d=>{try{const n=await(await fetch("http://laravel-api.test/api/anggota_keluargas")).json();i.value=n.filter(o=>o.keluarga_id===d)}catch(r){console.error("Error fetching anggota keluarga:",r)}},m=k(()=>i.value);return K(()=>{e()}),{keluargaDetail:s,anggotaKeluarga:i,filteredAnggotaKeluarga:m,notification:u}}},l=s=>(N("data-v-21e14978"),s=s(),I(),s),B={class:"flex overflow-hidden bg-white pt-16"},E={id:"main-content",class:"h-full w-full bg-gray-50 relative overflow-y-auto sm:ml-64"},H={class:"custom-header to-gray-100 p-6 pb-32 pt-5"},L={class:"bg-white rounded-lg shadow-sm p-6 flex justify-between items-center relative overflow-x-auto ml-5 mr-5 mt-5 mb-5"},P=l(()=>t("div",null,[t("h2",{class:"text-xl font-bold text-gray-800"},"Detail Keluarga"),t("p",{class:"text-gray-500"},"Kelola Anggota Keluarga")],-1)),F=l(()=>t("button",{class:"bg-green-500 text-white font-medium rounded-lg px-4 py-2 hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-300"}," + Tambah Anggota Keluarga ",-1)),J={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 px-11 -mt-20 mb-20"},R={class:"lg:col-span-1 bg-white border border-gray-200 rounded-lg shadow-md p-6 relative overflow-x-auto"},q={class:"flex items-center mb-4"},M={class:""},Q={class:"text-xl font-bold text-gray-900"},T={class:"mb-4"},U=l(()=>t("h4",{class:"text-gray-800 font-semibold"},"Alamat",-1)),z={class:"text-sm text-gray-500"},G={class:"mb-4"},O=l(()=>t("h4",{class:"text-gray-800 font-semibold"},"Jumlah KK",-1)),W={class:"text-sm text-gray-500"},X=l(()=>t("div",{class:"mb-4"},[t("h4",{class:"text-gray-800 font-semibold"},"QR Code Alamat")],-1)),Y={class:"lg:col-span-2"},Z={class:"w-full bg-white border border-gray-200 rounded-lg shadow-md p-6"},$=l(()=>t("div",{class:"flex justify-between items-center mb-4"},[t("h2",{class:"text-xl font-bold text-gray-900"}," Anggota Keluarga "),t("a",{href:"#",class:"text-blue-600 hover:underline"},"View all")],-1)),tt={class:"overflow-auto"},et={class:"w-full text-left text-sm text-gray-500"},at=l(()=>t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-4 py-3"},"Nama"),t("th",{scope:"col",class:"px-4 py-3"},"NIK"),t("th",{scope:"col",class:"px-4 py-3"},"Jenis Kelamin"),t("th",{scope:"col",class:"px-4 py-3"},"Hubungan Keluarga")])],-1)),st={class:"px-4 py-3 font-medium text-gray-900 whitespace-nowrap"},ot={class:"px-4 py-3"},lt={class:"px-4 py-3"},rt={class:"px-4 py-3"},nt={key:0,class:"fixed bottom-4 right-4 bg-green-500 text-white p-4 rounded-lg"};function ct(s,i,u,e,p,m){var o,f;const d=b,r=y,n=v;return _(),g("div",null,[h(d),t("div",B,[h(r),t("div",E,[t("div",H,[t("main",null,[t("div",L,[P,h(n,{to:{path:"/admin/nagari/anggotakeluarga/createAnggota",query:{keluarga_id:e.keluargaDetail.id}}},{default:A(()=>[F]),_:1},8,["to"])])])]),t("main",J,[t("div",R,[t("div",q,[t("div",M,[t("h3",Q," Detail Keluarga - "+a((o=e.keluargaDetail.kepala_keluarga)==null?void 0:o.nama),1)])]),t("div",T,[U,t("p",z,a((f=e.keluargaDetail.rumah)==null?void 0:f.alamat.detail_alamat),1)]),t("div",G,[O,t("p",W,a(e.keluargaDetail.jumlah_kk),1)]),X]),t("div",Y,[t("div",Z,[$,t("div",tt,[t("table",et,[at,t("tbody",null,[(_(!0),g(D,null,S(e.filteredAnggotaKeluarga,c=>(_(),g("tr",{key:c.id,class:"bg-white border-b hover:bg-gray-50"},[t("td",st,a(c.nama),1),t("td",ot,a(c.nik),1),t("td",lt,a(c.jenis_kelamin),1),t("td",rt,a(c.hubungan_keluarga),1)]))),128))])])])]),e.notification.show?(_(),g("div",nt,a(e.notification.message),1)):j("",!0)])])])])])}const pt=C(V,[["render",ct],["__scopeId","data-v-21e14978"]]);export{pt as default};
