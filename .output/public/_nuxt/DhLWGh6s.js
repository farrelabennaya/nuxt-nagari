import{A as j}from"./Dl1Rth-w.js";import{_ as C}from"./CrH4gh9h.js";import{_ as V,a as A}from"./DH8iKwkT.js";import{j as N,l as b,m as T,c as u,b as a,a as e,r as B,n as J,w as x,t as g,x as p,o as m,d as w,p as D,e as I}from"./ymCw7azN.js";import{u as M}from"./2TKp5wxK.js";import{_ as $}from"./DlAUqK2U.js";import"./CPXeGkS5.js";const n=i=>(D("data-v-0ec3a185"),i=i(),I(),i),E={class:"flex overflow-hidden bg-white pt-16"},R={id:"main-content",class:"h-full w-full bg-gray-50 relative overflow-y-auto sm:ml-64"},q={class:"pt-6 px-4 ml-5 mr-5"},F=n(()=>e("h1",{class:"text-lg font-bold mb-4"},"Create Jorong",-1)),H={class:"min-h-screen flex"},L={class:"w-full"},O={class:"card bg-white p-10 rounded-lg shadow-md md:w-3/5 mx-auto lg:w-1/3"},U=n(()=>e("h3",{class:"text-center text-2xl font-semibold"},"Jorong Data",-1)),Z={class:"mb-5"},z={key:0,class:"text-red-500"},P={class:"mb-5"},G={key:0,class:"text-red-500"},K=n(()=>e("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-1 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"},"Add Jorong",-1)),Q={key:0,id:"toast-success",class:"fixed bottom-4 right-4 flex items-center w-full max-w-xs p-4 mb-4 text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 dark:bg-gray-800",role:"alert"},W=n(()=>e("div",{class:"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-green-500 bg-green-100 rounded-lg dark:bg-green-800 dark:text-green-200"},[e("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"})]),e("span",{class:"sr-only"},"Check icon")],-1)),X={class:"ml-3 text-sm font-normal"},Y=n(()=>e("span",{class:"sr-only"},"Close",-1)),ee=n(()=>e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)),oe=[Y,ee],te={__name:"create",setup(i){const y=M(),k=N(),l=b({name:"",description:""}),t=T([]),r=b({show:!1,message:""}),v=s=>{r.message=s,r.show=!0,setTimeout(()=>{r.show=!1},3e3)},S=async()=>{t.value={};const s=y.getToken;console.log("Token used for request:",s);try{const o=await fetch("http://laravel-api.test/api/jorongs",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(l)});if(!o.ok){const d=await o.json();throw console.error("Response error:",d),d.errors&&(t.value=d.errors),new Error("Error creating Jorong")}const h=await o.json();v("Jorong created successfully!"),setTimeout(()=>{k.push("/admin/nagari/jorong")},1500)}catch(o){console.error("Request failed:",o)}};return(s,o)=>{const h=j,d=C,f=V,_=A;return m(),u("div",null,[a(h),e("div",E,[a(d),e("div",R,[e("main",null,[e("div",q,[F,B(s.$slots,"default",{},void 0,!0)])]),e("div",H,[e("div",L,[e("div",O,[U,e("form",{onSubmit:J(S,["prevent"]),class:"max-w-sm mx-auto"},[e("div",Z,[a(f,{for:"name"},{default:x(()=>[w("Name")]),_:1}),a(_,{id:"name",type:"text",placeholder:"Name",modelValue:l.name,"onUpdate:modelValue":o[0]||(o[0]=c=>l.name=c),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-50"},null,8,["modelValue"]),t.value.name?(m(),u("span",z,g(t.value.name[0]),1)):p("",!0)]),e("div",P,[a(f,{for:"description"},{default:x(()=>[w("Description")]),_:1}),a(_,{id:"description",type:"text",placeholder:"Description",modelValue:l.description,"onUpdate:modelValue":o[1]||(o[1]=c=>l.description=c),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-50"},null,8,["modelValue"]),t.value.description?(m(),u("span",G,g(t.value.description[0]),1)):p("",!0)]),K],32)])])])])]),r.show?(m(),u("div",Q,[W,e("div",X,g(r.message),1),e("button",{onClick:o[2]||(o[2]=c=>r.show=!1),type:"button",class:"ml-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700","aria-label":"Close"},oe)])):p("",!0)])}}},ce=$(te,[["__scopeId","data-v-0ec3a185"]]);export{ce as default};
